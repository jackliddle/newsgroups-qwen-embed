<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QWEN 3 Embedding Demo</title>

    <!-- Plotly.js -->
    <script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>

    <!-- Styles -->
    <link rel="stylesheet" href="assets/css/style.css">
</head>
<body>
    <!-- Header -->
    <header>
        <div class="header-left">
            <h1>QWEN 3 Embedding Demo</h1>
            <p class="subtitle"><a href="https://github.com/jackliddle/newsgroups-qwen-embed" target="_blank">View on GitHub</a></p>
        </div>

        <div class="task-buttons">
            <button class="task-btn active" data-task="default">üî∑ Default</button>
            <button class="task-btn inactive" data-task="topic">üéØ Topic</button>
            <button class="task-btn inactive" data-task="toxicity">‚ö†Ô∏è Toxicity</button>
            <button class="task-btn inactive" data-task="sentiment">üòä Sentiment</button>
        </div>

        <button id="what-is-this-btn">What is this?</button>
    </header>

    <!-- Main Content -->
    <div class="content">
        <!-- Plot Container -->
        <div class="plot-container">
            <div id="plot">
                <div class="loading">Loading visualization...</div>
            </div>
        </div>

        <!-- Right Column -->
        <div class="right-column">
            <!-- Task Details Panel -->
            <div class="details-panel">
                <h2><strong>Loading...</strong></h2>
                <p>Select a task above to see how different instructions affect the embedding space.</p>
            </div>

            <!-- About Visualization Panel -->
            <div class="about-panel">
                <h3>About the Visualization</h3>
                <p>Each point represents a document from the 20 Newsgroups dataset. Colors indicate different categories. Hover over points to see the text preview. The UMAP projection shows how the task instruction reshapes the embedding space.</p>
            </div>
        </div>
    </div>

    <!-- Overlay for "What is this?" -->
    <div class="overlay">
        <div class="overlay-content">
            <h2>Task-Specific Embeddings: One model, different perspectives, no fine-tuning</h2>

            <p>
                This interactive visualization demonstrates how <strong>task instructions</strong> reshape
                <a href="https://arxiv.org/abs/2506.05176" target="_blank" style="color: #3b82f6; text-decoration: none; font-weight: 600;">QWEN-3 embedding models</a>. Watch the same 800 documents (from 10 newsgroup categories) reorganize themselves four different ways‚Äîall through task instructions.
            </p>

            <h3 style="margin-top: 20px; margin-bottom: 10px; font-size: 18px;">What are embeddings?</h3>
            <p>
                Embeddings are vector representations of text that capture semantic meaning. Similar texts have similar embeddings, enabling machines to understand and compare documents.
            </p>

            <h3 style="margin-top: 20px; margin-bottom: 10px; font-size: 18px;">What makes task instructions powerful?</h3>
            <p>
                By providing an instruction like "Classify the sentiment..." or "Identify the topic...", you guide the model to reorganize the embedding space around task-relevant features. Same 800 documents, four completely different organizations.
            </p>

            <h3 style="margin-top: 20px; margin-bottom: 10px; font-size: 18px;">The Four Tasks</h3>
            <ul>
                <li><strong>Default:</strong> General-purpose embeddings with no specific instruction</li>
                <li><strong>Topic:</strong> Optimized for identifying subject matter and themes</li>
                <li><strong>Sentiment:</strong> Optimized for detecting positive, negative, or neutral tone</li>
                <li><strong>Toxicity:</strong> Optimized for detecting harmful or toxic content</li>
            </ul>

            <h3 style="margin-top: 20px; margin-bottom: 10px; font-size: 18px;">The Dataset</h3>
            <p>
                10 categories from the 20 Newsgroups dataset (politics, science, sports, religion). Each point is one document, colored by category. The 2D projection uses UMAP dimensionality reduction.
            </p>

            <h3 style="margin-top: 20px; margin-bottom: 10px; font-size: 18px;">How to Use</h3>
            <ul>
                <li><strong>Click the task buttons</strong> to switch between embedding spaces</li>
                <li><strong>Hover over points</strong> to see text previews</li>
                <li><strong>Observe how organization changes</strong>: Topic creates tight clusters, Sentiment creates gradients, Toxicity reveals discourse patterns</li>
                <li><strong>Ask yourself</strong>: Which task alignment would improve <em>your</em> downstream performance?</li>
            </ul>

            <h3 style="margin-top: 20px; margin-bottom: 10px; font-size: 18px;">Technical Details</h3>
            <p>
                Model: QWEN-3-Embedding-0.6B (1024 dimensions)<br>
                Reduction: UMAP (n_neighbors=15, min_dist=0.1)<br>
                Documents: 800 (80 per category)<br>
                API: SiliconFlow
            </p>

            <button class="close-btn" id="close-overlay">Close</button>
        </div>
    </div>

    <!-- JavaScript -->
    <script src="assets/js/app.js"></script>
</body>
</html>
